# üöÄ DTRADER-CRYPTO-2.0 - CHECKPOINT –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

**–í–µ—Ä—Å–∏—è:** 1.0.1 (Data Layer Complete)  
**–î–∞—Ç–∞:** 30 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –§—É–Ω–¥–∞–º–µ–Ω—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω, –≥–æ—Ç–æ–≤—ã –∫ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º  
**–ë–æ–µ–≤–æ–π –∫–ª–∏—á:** –ü–û–†–í–Å–ú GATE.IO –ö –ß–ï–†–¢–Ø–ú –°–û–ë–ê–ß–¨–ò–ú! üî•üí∞

---

## üìã –°–û–î–ï–†–ñ–ê–ù–ò–ï

1. [üéØ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞](#-–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞)
2. [üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#Ô∏è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
3. [‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏](#-—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ-–º–æ–¥—É–ª–∏)
4. [üîÑ –°—Ö–µ–º—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è](#-—Å—Ö–µ–º—ã-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è)
5. [üêõ –ò—Å—Ç–æ—Ä–∏—è –±–∞–≥–æ–≤ –∏ —Ä–µ—à–µ–Ω–∏–π](#-–∏—Å—Ç–æ—Ä–∏—è-–±–∞–≥–æ–≤-–∏-—Ä–µ—à–µ–Ω–∏–π)
6. [üìä –¢–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏](#-—Ç–µ–∫—É—â–∏–µ-–º–µ—Ç—Ä–∏–∫–∏)
7. [üöÄ –ë—É–¥—É—â–∏–µ –ø–æ–¥–≤–∏–≥–∏](#-–±—É–¥—É—â–∏–µ-–ø–æ–¥–≤–∏–≥–∏)
8. [üí° –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏](#-–≤–∞–∂–Ω—ã–µ-–∑–∞–º–µ—Ç–∫–∏)

---

## üéØ –û–ë–ó–û–† –ü–†–û–ï–ö–¢–ê

### –ß—Ç–æ —ç—Ç–æ?

**dtrader-crypto-2.0** - –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–π —Ç–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç –¥–ª—è –±–∏—Ä–∂–∏ Gate.io, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —Å—Ç—Ä–∞—Ç–µ–≥–∏—é TVP Sniper (Time-Volume-Pressure).

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥

```
Client-Server Architecture
‚îú‚îÄ‚îÄ Server (VPS) - –¢–æ—Ä–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞, –∞–Ω–∞–ª–∏–∑, –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ
‚îî‚îÄ‚îÄ Client (Local) - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç       | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è     | –í–µ—Ä—Å–∏—è |
| --------------- | -------------- | ------ |
| Runtime         | Node.js        | 20+    |
| –Ø–∑—ã–∫            | TypeScript     | 5.7.2  |
| WebSocket       | ws             | 8.18.0 |
| HTTP Client     | axios          | 1.7.7  |
| –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ     | chalk          | 4.1.2  |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö     | better-sqlite3 | 11.7.0 |
| Process Manager | pm2            | 5.4.3  |

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ **Event-Driven Architecture** - –≤—Å–µ —á–µ—Ä–µ–∑ EventBus
- ‚úÖ **Real-time –¥–∞–Ω–Ω—ã–µ** - WebSocket + REST API
- ‚úÖ **–¢–∏–ø–∏–∑–∞—Ü–∏—è** - –ø–æ–ª–Ω—ã–π TypeScript
- ‚úÖ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º
- ‚úÖ **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´

### üé® –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
graph TB
    A[Gate.io Exchange] -->|REST API| B[GateioClient]
    A -->|WebSocket| C[GateioWebSocket]

    B --> D[EventBus]
    C --> D

    D --> E[TickStore]
    D --> F[OrderBookStore]
    D --> G[Logger]

    E --> H[Indicators]
    F --> H

    H --> I[TVP Strategy]
    I --> J[Signal Generator]
    J --> K[Position Manager]
    K --> L[Order Manager]
    L --> A

    D --> M[WebSocket Server]
    M --> N[Clients]

    style A fill:#f96,stroke:#333,stroke-width:4px
    style D fill:#9cf,stroke:#333,stroke-width:4px
    style I fill:#fc6,stroke:#333,stroke-width:4px
    style M fill:#6f9,stroke:#333,stroke-width:4px
```

### üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
dtrader-crypto-2.0/
‚îú‚îÄ‚îÄ üìÅ src/
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ config/              ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ constants.ts        ‚úÖ –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ env.ts              ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ .env
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ core/                ‚úÖ –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EventBus.ts         ‚úÖ –®–∏–Ω–∞ —Å–æ–±—ã—Ç–∏–π (Singleton)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts            ‚úÖ –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ exchange/            ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Gate.io
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GateioClient.ts     ‚úÖ REST API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GateioWebSocket.ts  ‚úÖ WebSocket –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts            ‚úÖ –¢–∏–ø—ã API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils.ts            ‚úÖ –£—Ç–∏–ª–∏—Ç—ã (–ø–æ–¥–ø–∏—Å—å, –ø–∞—Ä—Å–∏–Ω–≥)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ data/                ‚úÖ Data Layer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TickStore.ts        ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–∏–∫–æ–≤ (1000)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderBookStore.ts   ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ Order Book
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts            ‚úÖ –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ state/               ‚úÖ State Management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stores/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BalanceStore.ts    ‚úÖ –ë–∞–ª–∞–Ω—Å
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PositionStore.ts   ‚úÖ –ü–æ–∑–∏—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IndicatorStore.ts  ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MarketStore.ts     ‚úÖ –†—ã–Ω–æ–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts            ‚úÖ –¢–∏–ø—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ logger/              ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Logger.ts           ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ª–æ–≥–≥–µ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts            ‚úÖ –¢–∏–ø—ã –ª–æ–≥–æ–≤
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ indicators/          üöß –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (–ø—É—Å—Ç–æ)
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ strategies/          üöß –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ (–ø—É—Å—Ç–æ)
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ trading/             üöß –¢–æ—Ä–≥–æ–≤–ª—è (–ø—É—Å—Ç–æ)
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ server/              üöß WebSocket Server (–ø—É—Å—Ç–æ)
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ utils/               ‚ö†Ô∏è –£—Ç–∏–ª–∏—Ç—ã (—á–∞—Å—Ç–∏—á–Ω–æ)
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                ‚úÖ –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ
‚îú‚îÄ‚îÄ üìÑ .env                     ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üìÑ package.json             ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ üìÑ tsconfig.json            ‚úÖ TypeScript –∫–æ–Ω—Ñ–∏–≥
‚îú‚îÄ‚îÄ üìÑ README.md                ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üìÑ CLIENT_API.md            ‚úÖ API –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ üìÑ TVP_SNIPER.md            ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚îî‚îÄ‚îÄ üìÑ PROJECT_CHECKPOINT.md    ‚úÖ –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç!

–õ–µ–≥–µ–Ω–¥–∞:
‚úÖ - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
üöß - –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
‚ö†Ô∏è - –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏
‚ùå - –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
```

### üé≠ –†–æ–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç           | –†–æ–ª—å                  | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å                         |
| ------------------- | --------------------- | --------------------------------------- |
| **EventBus**        | –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —à–∏–Ω–∞      | –ü–µ—Ä–µ–¥–∞—á–∞ —Å–æ–±—ã—Ç–∏–π –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏         |
| **Logger**          | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ           | –í—ã–≤–æ–¥ –ª–æ–≥–æ–≤, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤ –∫–∞–Ω–∞–ª—ã     |
| **GateioClient**    | REST API              | HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ Gate.io                  |
| **GateioWebSocket** | Real-time –¥–∞–Ω–Ω—ã–µ      | WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Gate.io         |
| **TickStore**       | –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–∏–∫–æ–≤       | Circular buffer –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 1000 —Ç–∏–∫–æ–≤    |
| **OrderBookStore**  | –•—Ä–∞–Ω–∏–ª–∏—â–µ —Å—Ç–∞–∫–∞–Ω–∞     | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Order Book (REST + WS)    |
| **State Stores**    | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º | –•—Ä–∞–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤, –ø–æ–∑–∏—Ü–∏–π, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ |

---

## ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –ú–û–î–£–õ–ò

### 1Ô∏è‚É£ CONFIG LAYER

#### üìÑ `src/config/env.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ `.env`.

**–§—É–Ω–∫—Ü–∏–∏:**

```typescript
export function loadConfig(): AppConfig;
```

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

```typescript
interface AppConfig {
  gateio: {
    apiKey: string;
    apiSecret: string;
    apiUrl: string;
    wsUrl: string;
  };
  trading: {
    symbol: string;
    orderBookDepth: number;
  };
  server: {
    wsPort: number;
  };
  database: {
    path: string;
    orderBookPressureInterval: number;
    retentionDays: number;
  };
  mode: "production" | "development" | "testnet";
  logging: {
    level: "debug" | "info" | "warn" | "error";
    toFile: boolean;
    dir: string;
  };
  eventBus: {
    maxListeners: number;
  };
  timeframes: {
    htf: number; // 24 –º–∏–Ω—É—Ç—ã
    mtf: number; // 6 –º–∏–Ω—É—Ç
    ltf: string; // "ticks"
  };
}
```

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

```typescript
import { config } from "./config/env";

console.log(config.trading.symbol); // ETH_USDT
console.log(config.gateio.wsUrl); // wss://api.gateio.ws/ws/v4/
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**

- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è API –∫–ª—é—á–µ–π (–Ω–µ default –∑–Ω–∞—á–µ–Ω–∏—è)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ—Ä–≥–æ–≤–æ–π –ø–∞—Ä—ã (—Ñ–æ—Ä–º–∞—Ç BASE_QUOTE)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

---

#### üìÑ `src/config/constants.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:**

```typescript
export const GATEIO = {
  ENDPOINTS: {
    SPOT_ACCOUNTS: "/api/v4/spot/accounts",
    SPOT_TICKER: "/api/v4/spot/tickers",
    SPOT_ORDER_BOOK: "/api/v4/spot/order_book",
    SPOT_CANDLESTICKS: "/api/v4/spot/candlesticks",
  },
  WS_CHANNELS: {
    TICKERS: "spot.tickers",
    ORDER_BOOK_UPDATE: "spot.order_book_update",
  },
  TIMEOUTS: {
    REQUEST: 30000,
    PING_INTERVAL: 15000,
    PONG_TIMEOUT: 30000,
  },
  RATE_LIMITS: {
    REST_PER_SECOND: 100,
    WS_SUBSCRIPTIONS_MAX: 100,
  },
};

export const INDICATORS = {
  TICK_SPEED: {
    WINDOW_SIZE: 60000,
    UPDATE_INTERVAL: 20,
    LEVELS: {
      DEAD: 20,
      LOW: 100,
      NORMAL: 300,
      HIGH: 600,
      EXTREME: Infinity,
    },
  },
  ORDERBOOK_PRESSURE: {
    UPDATE_INTERVAL: 50,
    THRESHOLDS: {
      STRONG_SELL: -0.3,
      SELL: -0.1,
      NEUTRAL_LOW: -0.1,
      NEUTRAL_HIGH: 0.1,
      BUY: 0.3,
      STRONG_BUY: Infinity,
    },
  },
};

export const STORAGE = {
  TICK_STORE: {
    MAX_SIZE: 1000,
  },
  ORDERBOOK_STORE: {
    MAX_DEPTH: 20,
    SYNC_INTERVAL: 3600000, // 1 —á–∞—Å
  },
};

export const EMOJI = {
  SUCCESS: "‚úÖ",
  ERROR: "‚ùå",
  WARNING: "‚ö†Ô∏è",
  ROCKET: "üöÄ",
  FIRE: "üî•",
  MONEY: "üí∞",
  // ... –∏ —Ç.–¥.
};
```

---

### 2Ô∏è‚É£ CORE LAYER

#### üìÑ `src/core/EventBus.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —à–∏–Ω–∞ —Å–æ–±—ã—Ç–∏–π (Event-Driven Architecture).

**–ü–∞—Ç—Ç–µ—Ä–Ω:** Singleton

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**

```typescript
class EventBus extends EventEmitter {
  // Singleton
  public static getInstance(): EventBus;

  // –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —ç–º–∏—Ç (—Å catch –æ—à–∏–±–æ–∫)
  public emitSafe(event: EventType, ...args: any[]): boolean;

  // –ü–æ–¥–ø–∏—Å–∫–∞
  public subscribe(event: EventType, handler: EventHandler): void;

  // –û—Ç–ø–∏—Å–∫–∞
  public unsubscribe(event: EventType, handler: EventHandler): void;

  // –û–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
  public subscribeOnce(event: EventType, handler: EventHandler): void;

  // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  public getStats(): {
    emitted: Map<string, number>;
    errors: number;
    totalEvents: number;
    totalEmits: number;
    listeners: { event: string; count: number }[];
  };
}
```

**–¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π:**

```typescript
type EventType =
  // Exchange —Å–æ–±—ã—Ç–∏—è
  | "exchange:connected"
  | "exchange:disconnected"
  | "exchange:ping:sent"
  | "exchange:pong:received"
  | "exchange:pong:timeout"
  | "exchange:subscribed"
  | "exchange:error"

  // Data —Å–æ–±—ã—Ç–∏—è
  | "data:tick:received"
  | "data:orderbook:updated"
  | "data:orderbook:synced"
  | "data:balance:updated"

  // Indicator —Å–æ–±—ã—Ç–∏—è
  | "indicator:tick_speed:updated"
  | "indicator:pressure:updated"
  | "indicator:ema:updated"

  // Strategy —Å–æ–±—ã—Ç–∏—è
  | "strategy:signal:generated"

  // Trading —Å–æ–±—ã—Ç–∏—è
  | "trading:order:created"
  | "trading:position:opened"
  | "trading:position:closed"

  // Client —Å–æ–±—ã—Ç–∏—è
  | "client:connected"
  | "client:disconnected"
  | "client:broadcast"

  // State —Å–æ–±—ã—Ç–∏—è
  | "state:balance:changed"
  | "state:position:changed"

  // System —Å–æ–±—ã—Ç–∏—è
  | "system:startup"
  | "system:shutdown"
  | "system:ready"
  | "system:error";
```

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

```typescript
import { eventBus } from "./core/EventBus";

// –ü–æ–¥–ø–∏—Å–∫–∞
eventBus.subscribe("data:tick:received", (tick) => {
  console.log(`–¢–∏–∫ –ø–æ–ª—É—á–µ–Ω: ${tick.price}`);
});

// –≠–º–∏—Ç
eventBus.emitSafe("data:tick:received", {
  symbol: "ETH_USDT",
  price: 3890.5,
  volume: 12345.67,
  timestamp: Date.now(),
});

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
const stats = eventBus.getStats();
console.log(`–í—Å–µ–≥–æ —ç–º–∏—Ç–æ–≤: ${stats.totalEmits}`);
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω–æ–π –∏ –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–æ–π –ª–æ–≥–∏–∫–∏
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –û—Ç–≤—è–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞
- ‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (mock events)
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

### 3Ô∏è‚É£ LOGGER LAYER

#### üìÑ `src/logger/Logger.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π EventBus.

**–ü–∞—Ç—Ç–µ—Ä–Ω:** Singleton

**–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**

```typescript
enum LogLevel {
  DEBUG = "debug",
  INFO = "info",
  WARN = "warn",
  ERROR = "error",
  SUCCESS = "success",
}
```

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ª–æ–≥–æ–≤:**

```typescript
enum LogCategory {
  SYSTEM = "system", // –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞, –∫–ª–∏–µ–Ω—Ç—ã
  EXCHANGE = "exchange", // –°–≤—è–∑—å —Å Gate.io, ping-pong
  INTERNAL = "internal", // –û—Å—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏
}
```

**–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤ WebSocket –∫–∞–Ω–∞–ª—ã:**
| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | WebSocket –∫–∞–Ω–∞–ª | –ü–æ–¥–ø–∏—Å–∫–∞ |
|-----------|----------------|----------|
| `SYSTEM` | `system` | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞) |
| `EXCHANGE` | `system` | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞) |
| `INTERNAL` | `logs` | –í—Ä—É—á–Ω—É—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è) |

**–ú–µ—Ç–æ–¥—ã:**

```typescript
class Logger {
  public debug(msg: string, category: LogCategory, data?: any): void;
  public info(msg: string, category: LogCategory, data?: any): void;
  public success(msg: string, category: LogCategory, data?: any): void;
  public warn(msg: string, category: LogCategory, data?: any): void;
  public error(msg: string, category: LogCategory, data?: any): void;
}
```

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

```typescript
import { logger } from "./logger/Logger";
import { LogCategory } from "./logger/types";

logger.info("–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Gate.io...", LogCategory.EXCHANGE);
logger.success("‚úÖ WebSocket —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω", LogCategory.EXCHANGE);
logger.error("–û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏", LogCategory.INTERNAL, { error });
```

**–í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å:**

```
[16:40:39.281] [SUCCESS] [SYSTEM  ] üöÄ –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—â–µ–Ω–∞
[16:40:48.890] [INFO] [EXCHANGE] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Gate.io WebSocket...
[16:40:49.895] [SUCCESS] [EXCHANGE] ‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª—ã —É—Å–ø–µ—à–Ω–∞
```

**–§–∏—á–∏:**

- ‚úÖ –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ (chalk)
- ‚úÖ Timestamp —Å –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞–º–∏
- ‚úÖ –ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- ‚úÖ –ê–≤—Ç–æ–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –∏–∑ EventBus
- ‚úÖ –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤ WebSocket –∫–∞–Ω–∞–ª—ã

---

### 4Ô∏è‚É£ EXCHANGE LAYER

#### üìÑ `src/exchange/GateioClient.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** REST API –∫–ª–∏–µ–Ω—Ç –¥–ª—è Gate.io —Å –∑–∞—â–∏—Ç–∞–º–∏.

**–ú–µ—Ç–æ–¥—ã:**

| –ú–µ—Ç–æ–¥                       | Endpoint                    | –û–ø–∏—Å–∞–Ω–∏–µ        |
| --------------------------- | --------------------------- | --------------- |
| `getBalance(currency?)`     | `/api/v4/spot/accounts`     | –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å |
| `getTicker(pair)`           | `/api/v4/spot/tickers`      | –ü–æ–ª—É—á–∏—Ç—å —Ç–∏–∫–µ—Ä  |
| `getOrderBook(pair, limit)` | `/api/v4/spot/order_book`   | –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞–∫–∞–Ω |
| `getCandles(params)`        | `/api/v4/spot/candlesticks` | –ü–æ–ª—É—á–∏—Ç—å —Å–≤–µ—á–∏  |

**–ü—Ä–∏–º–µ—Ä getBalance:**

```typescript
const gateio = new GateioClient({
  apiKey: config.gateio.apiKey,
  apiSecret: config.gateio.apiSecret,
  apiUrl: config.gateio.apiUrl,
});

const balances = await gateio.getBalance();
// [
//   { currency: "USDT", available: "10.23", locked: "0.00" },
//   { currency: "ETH", available: "0.5", locked: "0.0" }
// ]
```

**–ü—Ä–∏–º–µ—Ä getTicker:**

```typescript
const ticker = await gateio.getTicker("ETH_USDT");
// {
//   currency_pair: "ETH_USDT",
//   last: "3890.50",
//   change_percentage: "-2.95",
//   high_24h: "4010.00",
//   low_24h: "3850.00",
//   quote_volume: "1234567.89"
// }
```

**–ü—Ä–∏–º–µ—Ä getOrderBook:**

```typescript
const orderbook = await gateio.getOrderBook("ETH_USDT", 20);
// {
//   id: 1234567890,
//   bids: [["3890.50", "1.5"], ["3890.45", "2.3"]],
//   asks: [["3890.55", "1.2"], ["3890.60", "0.8"]]
// }
```

**–ü–æ–¥–ø–∏—Å—å –∑–∞–ø—Ä–æ—Å–æ–≤ (HMAC-SHA512):**

```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
const signature = generateSignature(
  method, // GET, POST, PUT, DELETE
  path, // /api/v4/spot/accounts
  query, // currency_pair=ETH_USDT
  bodyHash, // SHA512 hash —Ç–µ–ª–∞
  timestamp, // Unix timestamp
  apiSecret // API Secret
);

// Headers
KEY: apiKey;
Timestamp: timestamp;
SIGN: signature;
```

**–ó–∞—â–∏—Ç—ã (–µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã):**

- RateLimiter: 100 req/sec
- CircuitBreaker: –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–∞–¥–µ–Ω–∏—è –±–∏—Ä–∂–∏
- Retry –ª–æ–≥–∏–∫–∞: 3 –ø–æ–ø—ã—Ç–∫–∏ —Å exponential backoff

---

#### üìÑ `src/exchange/GateioWebSocket.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** WebSocket –∫–ª–∏–µ–Ω—Ç –¥–ª—è real-time –¥–∞–Ω–Ω—ã—Ö.

**–í–µ—Ä—Å–∏—è:** 4.1.0

**URL:** `wss://api.gateio.ws/ws/v4/` (–±–µ—Ä—ë—Ç—Å—è –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞)

**–ú–µ—Ç–æ–¥—ã:**

```typescript
class GateioWebSocket {
  public async connect(): Promise<void>;
  public async subscribe(): Promise<void>;
  public async unsubscribe(): Promise<void>;
  public disconnect(): void;

  public isConnectedToExchange(): boolean;
  public getReconnectAttempts(): number;
  public getLastPongTime(): number;
}
```

**–ü–æ–¥–ø–∏—Å–∫–∏:**

```typescript
// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ç–∏–∫–µ—Ä—ã
await ws.subscribeChannel("spot.tickers", ["ETH_USDT"]);

// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ orderbook updates
await ws.subscribeChannel("spot.order_book_update", ["ETH_USDT", "100ms"]);
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π:**

```mermaid
graph LR
    A[WebSocket Message] --> B{Parse JSON}
    B --> C{event type?}
    C -->|subscribe| D[handleSubscribeEvent]
    C -->|unsubscribe| E[handleUnsubscribeEvent]
    C -->|update| F[handleUpdateEvent]
    C -->|error| G[handleErrorEvent]

    F --> H{channel?}
    H -->|spot.tickers| I[handleTickers]
    H -->|spot.order_book_update| J[handleOrderBookUpdate]

    I --> K[EventBus.emitSafe<br/>'data:tick:received']
    J --> L[EventBus.emitSafe<br/>'data:orderbook:updated']
```

**–ü—Ä–∏–º–µ—Ä —Å–æ–±—ã—Ç–∏—è —Ç–∏–∫–∞:**

```typescript
eventBus.emitSafe("data:tick:received", {
  symbol: "ETH_USDT",
  price: 3890.5,
  volume: 12345.67,
  change24h: -2.95,
  high24h: 4010.0,
  low24h: 3850.0,
  timestamp: Date.now(),
});
```

**Ping-Pong –º–µ—Ö–∞–Ω–∏–∑–º:**

```typescript
// –ö–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥
setInterval(() => {
  ws.ping(); // Native WebSocket ping
  eventBus.emitSafe("exchange:ping:sent", { timestamp });
}, 15000);

// –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ pong
ws.on("pong", () => {
  const latency = Date.now() - lastPingTime;
  eventBus.emitSafe("exchange:pong:received", { timestamp, latency });
});

// –ï—Å–ª–∏ pong –Ω–µ –ø—Ä–∏—à—ë–ª 30 —Å–µ–∫—É–Ω–¥
setTimeout(() => {
  eventBus.emitSafe("exchange:pong:timeout");
  ws.terminate(); // –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
}, 30000);
```

**Reconnect backoff:**

```
–ü–æ–ø—ã—Ç–∫–∞ 1: 5 —Å–µ–∫—É–Ω–¥
–ü–æ–ø—ã—Ç–∫–∞ 2: 10 —Å–µ–∫—É–Ω–¥
–ü–æ–ø—ã—Ç–∫–∞ 3: 20 —Å–µ–∫—É–Ω–¥
–ü–æ–ø—ã—Ç–∫–∞ 4: 40 —Å–µ–∫—É–Ω–¥
–ü–æ–ø—ã—Ç–∫–∞ 5+: 60 —Å–µ–∫—É–Ω–¥ (–º–∞–∫—Å–∏–º—É–º)
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**

```typescript
private isValidTicker(ticker: any): ticker is TickerData {
  return (
    ticker &&
    typeof ticker.currency_pair === "string" &&
    typeof ticker.last === "string" &&
    typeof ticker.quote_volume === "string"
  );
}

// –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã - –ª–æ–≥–∏—Ä—É–µ–º –∏ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
if (!this.isValidTicker(ticker)) {
  logger.warn("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç–∏–∫–µ—Ä–∞", LogCategory.EXCHANGE);
  return;
}
```

---

### 5Ô∏è‚É£ DATA LAYER

#### üìÑ `src/data/TickStore.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–∏–∫–æ–≤ –≤ –ø–∞–º—è—Ç–∏ (circular buffer).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- –ú–∞–∫—Å–∏–º—É–º: 1000 —Ç–∏–∫–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏

**–ú–µ—Ç–æ–¥—ã:**

```typescript
class TickStore {
  public add(tick: Tick): void
  public getLast(): Tick | undefined
  public getLastN(count: number): Tick[]
  public getForPeriod(periodMs: number): Tick[]
  public getAll(): Tick[]

  public getCount(): number
  public getTotalCount(): number

  public getAveragePrice(count?: number): number
  public getMinPrice(count?: number): number
  public getMaxPrice(count?: number): number
  public getAverageVolume(count?: number): number

  public isFull(): boolean
  public clear(): void
  public getStats(): {...}
}
```

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

```typescript
const tickStore = new TickStore("ETH_USDT");

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–∏–∫–∏ –∏–∑ EventBus
eventBus.on("data:tick:received", (tick) => {
  if (tick.symbol === "ETH_USDT") {
    tickStore.add(tick);
  }
});

// –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ç–∏–∫
const last = tickStore.getLast();

// –ü–æ–ª—É—á–∏—Ç—å —Ç–∏–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–Ω—É—Ç—É
const ticks = tickStore.getForPeriod(60000);

// –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Ç–∏–∫–æ–≤
const avgPrice = tickStore.getAveragePrice(100);

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
const stats = tickStore.getStats();
// {
//   symbol: "ETH_USDT",
//   count: 1000,
//   totalCount: 5234,
//   isFull: true,
//   lastPrice: 3890.50,
//   avgPrice: 3885.23,
//   minPrice: 3850.00,
//   maxPrice: 3920.00,
//   avgVolume: 12000.00
// }
```

**–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è:**

```typescript
// –í constructor
eventBus.on("data:tick:received", (tick: Tick) => {
  if (tick.symbol === this.symbol) {
    this.add(tick);
  }
});
```

---

#### üìÑ `src/data/OrderBookStore.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–∏–ª–∏—â–µ Order Book —Å –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π.

**–í–µ—Ä—Å–∏—è:** 2.0.0 (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º –±–∞–≥–æ–º bid/ask)

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**

1. **REST API** (`sync()`) - –ø–æ–ª–Ω—ã–π snapshot –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
2. **WebSocket** (`applyUpdate()`) - –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–ú–µ—Ç–æ–¥—ã:**

```typescript
class OrderBookStore {
  public async sync(): Promise<void>;

  public getSnapshot(): OrderBookSnapshot;
  public getBids(count?: number): OrderBookLevel[];
  public getAsks(count?: number): OrderBookLevel[];
  public getStats(): OrderBookStats;

  public getSize(): { bids: number; asks: number };
  public isSynced(): boolean;
  public getUpdateCount(): number;
  public getLastSyncTime(): number;

  public debug(): void; // –í—ã–≤–æ–¥ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å—Ç–∞–∫–∞–Ω–∞
}
```

**–ü—Ä–∏–º–µ—Ä sync() (–Ω–∞—á–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è):**

```typescript
await orderBookStore.sync();

// –õ–æ–≥–∏:
// üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Order Book –¥–ª—è ETH_USDT —á–µ—Ä–µ–∑ REST API...
// ‚úÖ Order Book —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω: 20 bids, 20 asks
// üìä –õ—É—á—à–∏–µ —Ü–µ–Ω—ã: bid=3842.99, ask=3843.00, spread=0.01

// Debug –≤—ã–≤–æ–¥:
============================================================
üìñ ORDER BOOK DEBUG: ETH_USDT
============================================================

üü¢ TOP 5 BIDS (–ø–æ–∫—É–ø–∫–∞):
  1. 3842.99 USDT √ó 1.0789
  2. 3842.96 USDT √ó 0.0727
  3. 3842.95 USDT √ó 0.1911
  4. 3842.83 USDT √ó 0.0597
  5. 3842.73 USDT √ó 0.0199

üî¥ TOP 5 ASKS (–ø—Ä–æ–¥–∞–∂–∞):
  1. 3843.00 USDT √ó 1.4716
  2. 3843.04 USDT √ó 0.6492
  3. 3843.14 USDT √ó 0.1301
  4. 3843.17 USDT √ó 0.3364
  5. 3843.18 USDT √ó 0.1301

üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê:
  Best Bid: 3842.99 USDT
  Best Ask: 3843.00 USDT
  Spread: 0.01 USDT (0.000%)
  –î–∞–≤–ª–µ–Ω–∏–µ: Bid 40.4% / Ask 59.6%
============================================================
```

**–ü—Ä–∏–º–µ—Ä applyUpdate() (–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ):**

```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ EventBus
eventBus.on("data:orderbook:updated", (update) => {
  if (update.symbol === this.symbol) {
    this.applyUpdate(update);
  }
});

// update = {
//   symbol: "ETH_USDT",
//   bids: [
//     { price: 3842.99, amount: 0 },     // –£–¥–∞–ª–∏—Ç—å
//     { price: 3842.50, amount: 1.5 }    // –û–±–Ω–æ–≤–∏—Ç—å/–î–æ–±–∞–≤–∏—Ç—å
//   ],
//   asks: [
//     { price: 3843.00, amount: 2.3 }
//   ],
//   updateId: 123456789,
//   timestamp: 1730285400000
// }
```

**getStats() (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Ç–∞–∫–∞–Ω–∞):**

```typescript
const stats = orderBookStore.getStats();
// {
//   bestBid: 3842.99,
//   bestAsk: 3843.00,
//   spread: 0.01,
//   spreadPercent: 0.000,
//   midPrice: 3842.995,
//   bidVolume: 15234.56,  // USDT
//   askVolume: 17456.78,
//   totalVolume: 32691.34,
//   bidPercent: 46.6,
//   askPercent: 53.4
// }
```

**–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è —Ä–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**

```typescript
// –ö–∞–∂–¥—ã–π —á–∞—Å (–Ω–∞ —Å–ª—É—á–∞–π —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)
setInterval(async () => {
  await orderBookStore.sync();
}, 3600000);
```

---

### 6Ô∏è‚É£ STATE MANAGEMENT LAYER

#### üìÑ `src/state/stores/BalanceStore.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞.

**–ú–µ—Ç–æ–¥—ã:**

```typescript
class BalanceStore {
  public update(balances: Balance[]): void;
  public get(currency: string): Balance | undefined;
  public getAll(): Balance[];
  public getNonZero(): Balance[];
  public getCurrentState(): BalanceState;
}
```

**–ü—Ä–∏–º–µ—Ä:**

```typescript
const balanceStore = new BalanceStore();

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ EventBus
eventBus.on("data:balance:updated", (balances) => {
  balanceStore.update(balances);
});

// –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å USDT
const usdt = balanceStore.get("USDT");
// { currency: "USDT", available: "10.23", locked: "0.00" }

// –í—Å–µ –Ω–µ–Ω—É–ª–µ–≤—ã–µ –±–∞–ª–∞–Ω—Å—ã
const nonZero = balanceStore.getNonZero();
```

---

#### üìÑ `src/state/stores/PositionStore.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π.

**–ú–µ—Ç–æ–¥—ã:**

```typescript
class PositionStore {
  public add(position: Position): void;
  public update(position: Position): void;
  public remove(id: string): void;
  public get(id: string): Position | undefined;
  public getAll(): Position[];
  public getCount(): number;
  public getCurrentState(): PositionState;
}
```

---

#### üìÑ `src/state/stores/IndicatorStore.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤.

**–ú–µ—Ç–æ–¥—ã:**

```typescript
class IndicatorStore {
  public get(name: string): IndicatorValue | undefined;
  public getAll(): IndicatorValue[];
  public has(name: string): boolean;
  public getCurrentState(): IndicatorState;
}
```

**–ü—Ä–∏–º–µ—Ä:**

```typescript
const indicatorStore = new IndicatorStore();

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ EventBus
eventBus.on("indicator:tick_speed:updated", (data) => {
  indicatorStore.set("tick_speed", data);
});

// –ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
const tickSpeed = indicatorStore.get("tick_speed");
// {
//   name: "tick_speed",
//   data: {
//     ticksPerMinute: 125,
//     activityLevel: "NORMAL",
//     isSpike: false,
//     trend: "rising"
//   },
//   timestamp: 1730285400000
// }
```

---

#### üìÑ `src/state/stores/MarketStore.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä—ã–Ω–∫–∞.

**–ú–µ—Ç–æ–¥—ã:**

```typescript
class MarketStore {
  public updateOrderBookStats(stats: OrderBookStats): void;
  public getCurrentState(): MarketState;
}
```

**–°–æ—Å—Ç–æ—è–Ω–∏–µ:**

```typescript
interface MarketState {
  symbol: string;
  lastPrice: number;
  volume24h: number;
  change24h: number;
  high24h: number;
  low24h: number;
  orderBookStats: OrderBookStats | null;
  lastUpdate: number;
}
```

---

### 7Ô∏è‚É£ UTILITY MODULES

#### üìÑ `src/utils/RateLimiter.ts` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ Gate.io API.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```typescript
const rateLimiter = new RateLimiter(100, 1000); // 100 req/sec

await rateLimiter.throttle(async () => {
  return gateioClient.getBalance();
});
```

---

#### üìÑ `src/utils/CircuitBreaker.ts` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –±–∏—Ä–∂–∏.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```typescript
const breaker = new CircuitBreaker("GateIO", {
  failureThreshold: 5,
  timeout: 60000,
});

await breaker.execute(async () => {
  return gateioClient.getTicker("ETH_USDT");
});
```

---

## üîÑ –°–•–ï–ú–´ –í–ó–ê–ò–ú–û–î–ï–ô–°–¢–í–ò–Ø

### üìä –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –±–∏—Ä–∂–∏

```mermaid
sequenceDiagram
    participant G as Gate.io
    participant WS as GateioWebSocket
    participant EB as EventBus
    participant TS as TickStore
    participant OS as OrderBookStore
    participant L as Logger
    participant C as Clients

    G->>WS: WebSocket Message (tick)
    WS->>WS: Parse & Validate
    WS->>EB: emitSafe("data:tick:received")

    EB->>TS: event: data:tick:received
    TS->>TS: add(tick)

    EB->>L: event: data:tick:received
    L->>L: log("–¢–∏–∫ #5: ETH_USDT @ 3890.50")

    EB->>C: broadcast to "ticks" channel

    G->>WS: WebSocket Message (orderbook update)
    WS->>EB: emitSafe("data:orderbook:updated")

    EB->>OS: event: data:orderbook:updated
    OS->>OS: applyUpdate(update)

    EB->>L: event: data:orderbook:updated
    L->>L: log("OrderBook #20: bid=3890.50")

    EB->>C: broadcast to "orderbook" channel
```

### üîê REST API –∑–∞–ø—Ä–æ—Å —Å –ø–æ–¥–ø–∏—Å—å—é

```mermaid
sequenceDiagram
    participant A as Application
    participant GC as GateioClient
    participant U as utils.ts
    participant G as Gate.io API

    A->>GC: getBalance()
    GC->>U: buildQueryString(params)
    U-->>GC: query string

    GC->>U: getCurrentTimestamp()
    U-->>GC: timestamp

    GC->>U: generateSignature(method, path, query, body, timestamp, secret)
    U->>U: SHA512(body)
    U->>U: HMAC-SHA512(signString, secret)
    U-->>GC: signature

    GC->>G: GET /api/v4/spot/accounts<br/>Headers: KEY, Timestamp, SIGN
    G-->>GC: Response: Balance[]

    GC->>EventBus: emitSafe("data:balance:updated")
    GC-->>A: return Balance[]
```

### üîÑ Lifecycle –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```mermaid
stateDiagram-v2
    [*] --> Startup

    Startup --> LoadConfig: loadConfig()
    LoadConfig --> InitEventBus: eventBus.getInstance()
    InitEventBus --> InitLogger: logger.getInstance()
    InitLogger --> InitRestClient: new GateioClient()

    InitRestClient --> GetBalance: getBalance()
    GetBalance --> GetTicker: getTicker()

    GetTicker --> InitDataStores: new TickStore()<br/>new OrderBookStore()
    InitDataStores --> SyncOrderBook: orderBookStore.sync()

    SyncOrderBook --> InitWebSocket: new GateioWebSocket()
    InitWebSocket --> ConnectWS: ws.connect()
    ConnectWS --> SubscribeWS: ws.subscribe()

    SubscribeWS --> Running: System Ready

    Running --> ReceiveTick: data:tick:received
    ReceiveTick --> Running

    Running --> ReceiveOrderBook: data:orderbook:updated
    ReceiveOrderBook --> Running

    Running --> Ping: Every 15s
    Ping --> Pong: pong received
    Pong --> Running

    Ping --> PongTimeout: timeout 30s
    PongTimeout --> Reconnect
    Reconnect --> ConnectWS

    Running --> Shutdown: SIGINT / SIGTERM
    Shutdown --> Cleanup: ws.disconnect()<br/>showStats()
    Cleanup --> [*]
```

---

## üêõ –ò–°–¢–û–†–ò–Ø –ë–ê–ì–û–í –ò –†–ï–®–ï–ù–ò–ô

### üî• –ë–ê–ì #1: WebSocket –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

**–°–∏–º–ø—Ç–æ–º—ã:**

```
[16:40:48.890] [SUCCESS] ‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á—ë–Ω
[16:40:49.895] [SUCCESS] ‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª—ã —É—Å–ø–µ—à–Ω–∞
# –ù–û –ù–ï–¢ –¢–ò–ö–û–í –ò ORDERBOOK UPDATES!
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL WebSocket

**–ë—ã–ª–æ:**

```typescript
private static readonly WS_URL = "wss://api.gateio.ws/v4/ws/spot";
```

**–°—Ç–∞–ª–æ:**

```typescript
// –í –∫–æ–Ω—Ñ–∏–≥–µ .env:
GATE_WS_URL=wss://api.gateio.ws/ws/v4/

// –í –∫–æ–¥–µ:
constructor(config: GateioWSConfig) {
  this.wsUrl = config.wsUrl;  // –ë–µ—Ä—ë–º –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
}
```

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π URL `/ws/v4/` –≤–º–µ—Å—Ç–æ `/v4/ws/spot`

**Commit:** `fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω WebSocket URL –∏ –≤—ã–Ω–µ—Å–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥`

---

### üî• –ë–ê–ì #2: OrderBook –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω—É–ª–∏ (bid=0.00, ask=0.00)

**–°–∏–º–ø—Ç–æ–º—ã:**

```
[07:19:57.460] [WARN] ‚ö†Ô∏è –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π bid: price=undefined, amount=undefined
[07:19:57.466] [SUCCESS] ‚úÖ Order Book —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω: 0 bids, 0 asks
üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê:
  Best Bid: 0.00 USDT
  Best Ask: 0.00 USDT
```

**–ü—Ä–∏—á–∏–Ω–∞:** Gate.io REST API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤—ã `["price", "amount"]`, –∞ –º—ã —á–∏—Ç–∞–ª–∏ –∫–∞–∫ –æ–±—ä–µ–∫—Ç—ã `{price, amount}`

**–ë—ã–ª–æ:**

```typescript
orderBook.bids.forEach((level) => {
  const price = parseFloat(level.price); // undefined!
  const amount = parseFloat(level.amount); // undefined!
});
```

**–°—Ç–∞–ª–æ:**

```typescript
orderBook.bids.forEach((level) => {
  let price: number;
  let amount: number;

  if (Array.isArray(level)) {
    // –§–æ—Ä–º–∞—Ç: ["3890.50", "1.5"]
    price = parseFloat(level[0]);
    amount = parseFloat(level[1]);
  } else if (typeof level === "object") {
    // –§–æ—Ä–º–∞—Ç: {price: "...", amount: "..."}
    price = parseFloat((level as any).price);
    amount = parseFloat((level as any).amount);
  }

  this.bids.set(price, amount);
});
```

**–†–µ—à–µ–Ω–∏–µ:** –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–æ–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ (–º–∞—Å—Å–∏–≤ + –æ–±—ä–µ–∫—Ç)

**Commit:** `fix: OrderBookStore —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–∞—Ä—Å–∏—Ç bid/ask –æ—Ç Gate.io`

---

### üî• –ë–ê–ì #3: –ü–µ—Ä–µ–ø—É—Ç–∞–Ω—ã bids –∏ asks –≤ getSnapshot()

**–°–∏–º–ø—Ç–æ–º—ã:**

```
OrderBook #20: bid 3842.99 | ask 3842.03 | spread -0.96
```

**–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π —Å–ø—Ä–µ–¥?!** –≠—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ!

**–ü—Ä–∏—á–∏–Ω–∞:** –í –º–µ—Ç–æ–¥–µ `getSnapshot()` bids –∏ asks –±—ã–ª–∏ –ø–µ—Ä–µ–ø—É—Ç–∞–Ω—ã –º–µ—Å—Ç–∞–º–∏

**–ë—ã–ª–æ:**

```typescript
return {
  bids: sortedAsks.slice(0, this.maxLevels), // ‚ùå asks ‚Üí bids
  asks: sortedBids.slice(0, this.maxLevels), // ‚ùå bids ‚Üí asks
};
```

**–°—Ç–∞–ª–æ:**

```typescript
return {
  bids: sortedBids.slice(0, this.maxLevels), // ‚úÖ bids ‚Üí bids
  asks: sortedAsks.slice(0, this.maxLevels), // ‚úÖ asks ‚Üí asks
};
```

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ bids ‚Üí bids, asks ‚Üí asks

**Commit:** `fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—É—Ç–∞–Ω–∏—Ü–∞ bids/asks –≤ OrderBookStore.getSnapshot()`

---

### üî• –ë–ê–ì #4: TypeScript –æ—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (wsUrl missing)

**–°–∏–º–ø—Ç–æ–º—ã:**

```
error TS2353: Object literal may only specify known properties,
and 'wsUrl' does not exist in type 'GateioWSConfig'.
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —É–±—Ä–∞–ª–∏ `wsUrl` –∏–∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∫–ª–∞—Å—Å–∞, –Ω–æ –Ω–µ –æ–±–Ω–æ–≤–∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏–ª–∏ `wsUrl` –æ–±—Ä–∞—Ç–Ω–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `GateioWSConfig`

```typescript
interface GateioWSConfig {
  wsUrl: string; // ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–±—Ä–∞—Ç–Ω–æ
  currencyPair: string;
  pingInterval?: number;
  // ...
}
```

**Commit:** `fix: –¥–æ–±–∞–≤–ª–µ–Ω wsUrl –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å GateioWSConfig`

---

## üìä –¢–ï–ö–£–©–ò–ï –ú–ï–¢–†–ò–ö–ò

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 100%

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç               | –°—Ç–∞—Ç—É—Å | –¢–µ—Å—Ç—ã  | –ú–µ—Ç—Ä–∏–∫–∏              |
| ----------------------- | ------ | ------ | -------------------- |
| **Config Loading**      | ‚úÖ     | Manual | 100%                 |
| **EventBus**            | ‚úÖ     | Manual | ~1000 events/min     |
| **Logger**              | ‚úÖ     | Manual | ~50 logs/min         |
| **GateioClient (REST)** | ‚úÖ     | Manual | 100% success rate    |
| **GateioWebSocket**     | ‚úÖ     | Manual | Latency: 200-500ms   |
| **TickStore**           | ‚úÖ     | Manual | 1000 ticks in memory |
| **OrderBookStore**      | ‚úÖ     | Manual | 20 bids/asks synced  |
| **State Stores**        | ‚úÖ     | Manual | All working          |

### üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

```
Real-time –æ–±—Ä–∞–±–æ—Ç–∫–∞:
‚îú‚îÄ‚îÄ –¢–∏–∫–∏: ~5-10 —Å–æ–æ–±—â–µ–Ω–∏–π/—Å–µ–∫
‚îú‚îÄ‚îÄ OrderBook updates: ~50-100 —Å–æ–æ–±—â–µ–Ω–∏–π/—Å–µ–∫
‚îú‚îÄ‚îÄ Ping-pong: 1 —Ä–∞–∑/15 —Å–µ–∫
‚îú‚îÄ‚îÄ Latency: 200-500ms
‚îî‚îÄ‚îÄ Memory usage: ~50-100 MB

Throughput:
‚îú‚îÄ‚îÄ Events/min: ~1000
‚îú‚îÄ‚îÄ Logs/min: ~50
‚îî‚îÄ‚îÄ CPU usage: <5%
```

### üéØ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

```
Exchange Layer:        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
Data Layer:            ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
Core Infrastructure:   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
```
