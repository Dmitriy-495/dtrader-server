# dtrader-crypto-2.0

–ö–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ç–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç –Ω–∞ –±–∏—Ä–∂–µ Gate.io —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π client-server.

**–°—Ç–µ–∫:** Node.js + TypeScript + WebSocket + SQLite

**–í–µ—Ä—Å–∏—è:** 1.0.1 (Data Layer)

---

## üìã –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π:

### 1. üñ•Ô∏è –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (VPS)

–†–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ –¥–µ–º–æ–Ω–∞ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç:

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∏—Ä–∂–µ Gate.io (REST API + WebSocket)
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö, —Ä–∞—Å—á—ë—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ TVP Sniper
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏—è–º–∏
- –¢—Ä–∞–Ω—Å–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞–º —á–µ—Ä–µ–∑ WebSocket Server

### 2. üñ•Ô∏è –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (–ª–æ–∫–∞–ª—å–Ω—ã–µ –ü–ö)

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç `terminal-kit` –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É (REST API + WebSocket)
- –ü—Ä–∏—ë–º real-time –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–º
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤, –±–∞–ª–∞–Ω—Å–æ–≤, –ø–æ–∑–∏—Ü–∏–π

---

## ‚úÖ –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### üîå Exchange Layer (Gate.io API)

- ‚úÖ **GateioClient** - REST API –∫–ª–∏–µ–Ω—Ç

  - –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ (`/api/v4/spot/accounts`)
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–∏–∫–µ—Ä–æ–≤ (`/api/v4/spot/tickers`)
  - –ü–æ–ª—É—á–µ–Ω–∏–µ orderbook (`/api/v4/spot/order_book`)
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–µ—á–µ–π (`/api/v4/spot/candlesticks`)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–ø–∏—Å—å –∑–∞–ø—Ä–æ—Å–æ–≤ (HMAC-SHA512)

- ‚úÖ **GateioWebSocket** - WebSocket –∫–ª–∏–µ–Ω—Ç
  - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ `wss://api.gateio.ws/ws/v4/`
  - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª—ã `spot.tickers` –∏ `spot.order_book_update`
  - Native WebSocket ping-pong –º–µ—Ö–∞–Ω–∏–∑–º
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–≤—è–∑–∏
  - –≠–º–∏—Ç —Å–æ–±—ã—Ç–∏–π —á–µ—Ä–µ–∑ EventBus

### üíæ Data Layer

- ‚úÖ **TickStore** - circular buffer –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–∏–∫–æ–≤

  - –ü–æ—Å–ª–µ–¥–Ω–∏–µ 1000 —Ç–∏–∫–æ–≤ –≤ –ø–∞–º—è—Ç–∏
  - –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º (getLast, getLastN, getForPeriod)
  - –†–∞—Å—á—ë—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (—Å—Ä–µ–¥–Ω—è—è/–º–∏–Ω/–º–∞–∫—Å —Ü–µ–Ω–∞, –æ–±—ä—ë–º)

- ‚úÖ **OrderBookStore** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Order Book
  - –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ REST API
  - –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ WebSocket
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥—ã–π —á–∞—Å
  - –†–∞—Å—á—ë—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å—Ç–∞–∫–∞–Ω–∞ (—Å–ø—Ä–µ–¥, –æ–±—ä—ë–º—ã, –¥–∞–≤–ª–µ–Ω–∏–µ)

### üéØ Core Infrastructure

- ‚úÖ **EventBus** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —à–∏–Ω–∞ —Å–æ–±—ã—Ç–∏–π

  - Singleton pattern
  - –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (exchange, data, indicator, trading, system)
  - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω–æ–π –∏ –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–æ–π –ª–æ–≥–∏–∫–∏
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —ç–º–∏—Ç–æ–≤ –∏ –æ—à–∏–±–æ–∫

- ‚úÖ **Logger** - —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

  - –£—Ä–æ–≤–Ω–∏: debug, info, success, warn, error
  - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: system, exchange, internal
  - –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å (chalk)
  - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª
  - –ê–≤—Ç–æ–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –∏–∑ EventBus
  - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤ –∫–∞–Ω–∞–ª—ã WebSocket (system/logs)

- ‚úÖ **Config Management** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
  - –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ `.env` —á–µ—Ä–µ–∑ dotenv
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ production/development/testnet —Ä–µ–∂–∏–º–æ–≤

### üóÑÔ∏è State Management

- ‚úÖ **BalanceStore** - —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å
- ‚úÖ **PositionStore** - –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏
- ‚úÖ **IndicatorStore** - –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- ‚úÖ **MarketStore** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä—ã–Ω–∫–∞ (—Ü–µ–Ω–∞, –æ–±—ä—ë–º, orderbook stats)

---

## üöß –¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ—Ç Gate.io WebSocket

**–°–∏–º–ø—Ç–æ–º—ã:**

- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket —É—Å–ø–µ—à–Ω–æ–µ
- ‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞
- ‚úÖ Ping-pong —Ä–∞–±–æ—Ç–∞–µ—Ç (–∑–∞–¥–µ—Ä–∂–∫–∞ ~500-1000ms)
- ‚ùå **–¢–∏–∫–∏ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç** (–Ω–µ—Ç —Å–æ–±—ã—Ç–∏–π `data:tick:received`)
- ‚ùå **OrderBook updates –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç** (–Ω–µ—Ç —Å–æ–±—ã—Ç–∏–π `data:orderbook:updated`)

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:**

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Å—Å–∏–≤–æ–≤ –¥–∞–Ω–Ω—ã—Ö –≤ `handleChannelData()`
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö WebSocket —Å–æ–æ–±—â–µ–Ω–∏–π
3. üîÑ –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∫–ª—é—á–∏—Ç—å `LOG_LEVEL=debug` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–æ–¥–ø–∏—Å–∫–∏ (payload –¥–ª—è orderbook: `["ETH_USDT", "100ms"]`)
- Gate.io v4 API –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç
- –ù–∏–∑–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ –ø–∞—Ä–µ (–º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ –¥–ª—è ETH_USDT)

**–ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:**

1. –í–∫–ª—é—á–∏—Ç—å debug –ª–æ–≥–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Gate.io WebSocket v4 API
3. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –ø–æ–¥–ø–∏—Å–∫–∏
4. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `spot.order_book` –≤–º–µ—Å—Ç–æ `spot.order_book_update`

---

## üìù –ü–ª–∞–Ω –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ Data Layer (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

- [ ] **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç Gate.io WebSocket**
- [ ] **CandleBuilder** - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–≤–µ—á–µ–π –∏–∑ —Ç–∏–∫–æ–≤
  - –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ç–∏–∫–æ–≤ –≤ —Å–≤–µ—á–∏ (1m, 5m, 15m, 1h, 4h)
  - –ë—É—Ñ–µ—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 500 —Å–≤–µ—á–µ–π –∫–∞–∂–¥–æ–≥–æ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞
  - –°–æ–±—ã—Ç–∏—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–≤–µ—á–µ–π

### –≠—Ç–∞–ø 2: Indicators Layer

- [ ] **TickSpeedIndicator** - —Å–∫–æ—Ä–æ—Å—Ç—å —Ç–∏–∫–æ–≤ (–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–∞)

  - –†–∞—Å—á—ë—Ç —Ç–∏–∫–æ–≤ –≤ –º–∏–Ω—É—Ç—É (—Å–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ 60 —Å–µ–∫)
  - –£—Ä–æ–≤–Ω–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: DEAD/LOW/NORMAL/HIGH/EXTREME
  - –î–µ—Ç–µ–∫—Ü–∏—è –≤—Å–ø–ª–µ—Å–∫–æ–≤ (spike detection)
  - –¢—Ä–µ–Ω–¥ —Å–∫–æ—Ä–æ—Å—Ç–∏ (rising/falling/stable)

- [ ] **VolumeConfirmationIndicator** - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—ä—ë–º–æ–º

  - –°–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ 5 –º–∏–Ω—É—Ç
  - –î–µ—Ç–µ–∫—Ü–∏—è –≤—Å–ø–ª–µ—Å–∫–æ–≤ –æ–±—ä—ë–º–∞ (2x –æ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ)
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è (min ratio 1.5x)

- [ ] **OrderBookPressureIndicator** - –¥–∞–≤–ª–µ–Ω–∏–µ –≤ —Å—Ç–∞–∫–∞–Ω–µ

  - Order Book Imbalance (OBI): `(bid - ask) / (bid + ask)`
  - –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–≤–ª–µ–Ω–∏—è: STRONG_SELL/SELL/NEUTRAL/BUY/STRONG_BUY
  - –î–µ—Ç–µ–∫—Ü–∏—è "—Å—Ç–µ–Ω" (–±–æ–ª—å—à–∏–µ –æ–±—ä—ë–º—ã > $10k)
  - –°–ø—Ä–µ–¥ –∏ spread percent

- [ ] **EMA** - —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è

  - –ü–µ—Ä–∏–æ–¥—ã: 9, 20, 50, 200
  - –†–∞—Å—á—ë—Ç –Ω–∞ —Å–≤–µ—á–∞—Ö (—Ä–∞–∑–Ω—ã–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º—ã)
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–∞ (up/down/flat)

- [ ] **RSI** - –∏–Ω–¥–µ–∫—Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–ª—ã
  - –ü–µ—Ä–∏–æ–¥ 14
  - –ó–æ–Ω—ã: oversold (<30), neutral (30-70), overbought (>70)

### –≠—Ç–∞–ø 3: TVP Sniper Strategy

- [ ] **HTF Analyzer** (–ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–∏–π, 24 –º–∏–Ω—É—Ç—ã)

  - EMA100 –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Ç—Ä–µ–Ω–¥–∞
  - –§–∏–ª—å—Ç—Ä —Ñ–ª—ç—Ç–∞ (2% –±—É—Ñ–µ—Ä)
  - –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏ —Ç–æ–ª—å–∫–æ –ø–æ —Ç—Ä–µ–Ω–¥—É

- [ ] **MTF Analyzer** (–ì–µ–Ω–µ—Ä–∞–ª, 6 –º–∏–Ω—É—Ç)

  - –ü–æ–∏—Å–∫ –∫–ª—é—á–µ–≤—ã—Ö —É—Ä–æ–≤–Ω–µ–π (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å–≤–µ—á–µ–π)
  - –î–µ—Ç–µ–∫—Ü–∏—è –æ—Ç—Å–∫–æ–∫–æ–≤ –æ—Ç —É—Ä–æ–≤–Ω–µ–π (1% tolerance)
  - –î–µ—Ç–µ–∫—Ü–∏—è –ø—Ä–æ–±–∏—Ç–∏–π —É—Ä–æ–≤–Ω–µ–π (0.5% confirmation)
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–ª—è LTF

- [ ] **LTF Analyzer** (–°–Ω–∞–π–ø–µ—Ä, —Ç–∏–∫–∏)
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:
    - TickSpeed >= HIGH
    - Volume spike >= 2x
    - OrderBook Pressure OBI >= 0.1
  - Confidence Score (–≤–∑–≤–µ—à–µ–Ω–Ω–∞—è —Å—É–º–º–∞)
  - –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –æ –≤—Ö–æ–¥–µ

### –≠—Ç–∞–ø 4: Trading Layer

- [ ] **RiskManager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏

  - –†–∞—Å—á—ë—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ (2-5% –¥–µ–ø–æ)
  - –†–∞—Å—á—ë—Ç Stop Loss –∏ Take Profit
  - Risk:Reward ratio –∫–æ–Ω—Ç—Ä–æ–ª—å (1:3)

- [ ] **OrderManager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞–º–∏

  - –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ Gate.io API
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ä–¥–µ—Ä–æ–≤
  - –û—Ç–º–µ–Ω–∞ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ä–¥–µ—Ä–æ–≤

- [ ] **PositionManager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏—è–º–∏
  - –û—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–π
  - –¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø
  - –†–∞—Å—á—ë—Ç PnL –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –≠—Ç–∞–ø 5: WebSocket Server (–¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤)

- [ ] **ClientManager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏

  - –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
  - Graceful disconnect

- [ ] **ChannelManager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏

  - –ö–∞–Ω–∞–ª—ã: system (–∞–≤—Ç–æ), logs, ticks, orderbook, balance, indicators, signals, positions
  - Subscribe/Unsubscribe –º–µ—Ö–∞–Ω–∏–∑–º
  - Broadcast –ø–æ –∫–∞–Ω–∞–ª–∞–º

- [ ] **WebSocketServer** - —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
  - –ü–æ—Ä—Ç 8080 (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
  - Ping-pong —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏
  - –û—Ç–ø—Ä–∞–≤–∫–∞ snapshot —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–∞–º
  - –¢—Ä–∞–Ω—Å–ª—è—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –æ—Ç EventBus

### –≠—Ç–∞–ø 6: Database Layer (SQLite)

- [ ] **Schema** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

  - –¢–∞–±–ª–∏—Ü—ã: ticks, candles, orderbook_pressure, signals, positions, trades
  - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
  - Auto-cleanup —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö (retention policy)

- [ ] **DatabaseManager** - —Ä–∞–±–æ—Ç–∞ —Å –ë–î
  - Connection pool
  - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
  - Batch inserts –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  - Queries –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

### –≠—Ç–∞–ø 7: Client Application (Terminal UI)

- [ ] **–ë–∞–∑–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç** (terminal-kit)

  - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
  - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –Ω—É–∂–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
  - –í—ã–≤–æ–¥ –ª–æ–≥–æ–≤ –∏ –¥–∞–Ω–Ω—ã—Ö

- [ ] **Dashboard** - –¥–∞—à–±–æ—Ä–¥ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏

  - Real-time –≥—Ä–∞—Ñ–∏–∫–∏ (ASCII charts)
  - –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
  - –ë–∞–ª–∞–Ω—Å –∏ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏
  - –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–∏–≥–Ω–∞–ª—ã

- [ ] **Commands** - –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  - –°—Ç–∞—Ä—Ç/—Å—Ç–æ–ø —Ç–æ—Ä–≥–æ–≤–ª–∏
  - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
  - –†—É—á–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–π
  - –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd dtrader-server

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
cp .env.example .env
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env

```env
# Gate.io API credentials (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
GATE_API_KEY=your_api_key_here
GATE_API_SECRET=your_api_secret_here

# –¢–æ—Ä–≥–æ–≤–∞—è –ø–∞—Ä–∞
SYMBOL=ETH_USDT

# –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
MODE=development

# –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ debug)
LOG_LEVEL=info
```

–ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á–∏: https://www.gate.io/myaccount/apiv4keys

### –ó–∞–ø—É—Å–∫

```bash
# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π)
npm run dev

# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å watch)
npm run dev:watch

# Production —Å–±–æ—Ä–∫–∞
npm run build
npm start

# PM2 (–¥–ª—è VPS)
npm run pm2:start
npm run pm2:logs
npm run pm2:stop
```

---

## üìä –¢–µ–∫—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å:

```bash
npm run dev
```

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** –∏–∑ `.env`
2. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Gate.io REST API**
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã ETH_USDT
3. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Data Stores**
   - TickStore (–≥–æ—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç–∏–∫–∏)
   - OrderBookStore (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ REST)
4. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Gate.io WebSocket**
   - –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
   - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞
   - Ping-pong —Ä–∞–±–æ—Ç–∞–µ—Ç
5. **EventBus + Logger** - –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

### ‚ö†Ô∏è –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç (–≤ –æ—Ç–ª–∞–¥–∫–µ):

- **Real-time –¥–∞–Ω–Ω—ã–µ –æ—Ç –±–∏—Ä–∂–∏** (—Ç–∏–∫–∏ –∏ orderbook updates –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç)

---

## üõ†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
dtrader-crypto-2.0/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config/               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ constants.ts      # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ env.ts            # –ó–∞–≥—Ä—É–∑–∫–∞ .env
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ core/                 # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EventBus.ts       # ‚úÖ –®–∏–Ω–∞ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts          # –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ exchange/             # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Gate.io
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GateioClient.ts   # ‚úÖ REST API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GateioWebSocket.ts # ‚úÖ WebSocket –∫–ª–∏–µ–Ω—Ç (–≤ –æ—Ç–ª–∞–¥–∫–µ)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts          # –¢–∏–ø—ã Gate.io API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils.ts          # –£—Ç–∏–ª–∏—Ç—ã (–ø–æ–¥–ø–∏—Å—å –∑–∞–ø—Ä–æ—Å–æ–≤)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ data/                 # Data Layer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TickStore.ts      # ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–∏–∫–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderBookStore.ts # ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ Order Book
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts          # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ state/                # State Management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stores/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BalanceStore.ts    # ‚úÖ –ë–∞–ª–∞–Ω—Å
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PositionStore.ts   # ‚úÖ –ü–æ–∑–∏—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IndicatorStore.ts  # ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MarketStore.ts     # ‚úÖ –†—ã–Ω–æ–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts          # –¢–∏–ø—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ logger/               # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Logger.ts         # ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ª–æ–≥–≥–µ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts          # –¢–∏–ø—ã –ª–æ–≥–æ–≤
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ indicators/           # üöß –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TickSpeedIndicator.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ VolumeConfirmationIndicator.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderBookPressureIndicator.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EMA.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RSI.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ strategies/           # üöß –¢–æ—Ä–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BaseStrategy.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TVP/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ TVPStrategy.ts
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ tvp-strategy-setting.json
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ trading/              # üöß –¢–æ—Ä–≥–æ–≤–ª—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderManager.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PositionManager.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RiskManager.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ server/               # üöß WebSocket Server (–∫–ª–∏–µ–Ω—Ç—ã)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WebSocketServer.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ClientManager.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ChannelManager.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/                # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ helpers.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validators.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ index.ts              # ‚úÖ –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ
‚îú‚îÄ‚îÄ .env.example              # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ package.json              # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ tsconfig.json             # TypeScript –∫–æ–Ω—Ñ–∏–≥
‚îú‚îÄ‚îÄ nodemon.json              # Nodemon –∫–æ–Ω—Ñ–∏–≥
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ .editorconfig
‚îú‚îÄ‚îÄ README.md                 # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ CLIENT_API.md             # API –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç–∏
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[CLIENT_API.md](./CLIENT_API.md)** - WebSocket API –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
  - –§–æ—Ä–º–∞—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π
  - –ö–∞–Ω–∞–ª—ã –ø–æ–¥–ø–∏—Å–∫–∏
  - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Node.js** 20+ - runtime
- **TypeScript** 5.7 - —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **ws** 8.18 - WebSocket –∫–ª–∏–µ–Ω—Ç/—Å–µ—Ä–≤–µ—Ä
- **axios** 1.7 - HTTP –∫–ª–∏–µ–Ω—Ç
- **dotenv** 16.4 - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- **chalk** 4.1 - —Ü–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
- **better-sqlite3** 11.7 - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- **terminal-kit** - –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π UI (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- **pm2** 5.4 - process manager –¥–ª—è VPS

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env` —Ñ–∞–π–ª–µ:

```env
# Gate.io API
GATE_API_KEY=your_key
GATE_API_SECRET=your_secret
GATE_API_URL=https://api.gateio.ws
GATE_WS_URL=wss://api.gateio.ws/ws/v4/

# –¢–æ—Ä–≥–æ–≤–ª—è
SYMBOL=ETH_USDT
ORDERBOOK_DEPTH=20

# WebSocket Server
WS_SERVER_PORT=8080

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DB_PATH=./dtrader.db
DB_ORDERBOOK_PRESSURE_INTERVAL=10
DB_RETENTION_DAYS=90

# –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
MODE=development              # production | development | testnet
LOG_LEVEL=info                # debug | info | warn | error
LOG_TO_FILE=false
LOG_DIR=./logs

# Event Bus
EVENT_BUS_MAX_LISTENERS=100

# –¢–∞–π–º—Ñ—Ä–µ–π–º—ã TVP Strategy
HTF_TIMEFRAME=24              # –í—ã—Å—à–∏–π (–º–∏–Ω—É—Ç—ã)
MTF_TIMEFRAME=6               # –°—Ä–µ–¥–Ω–∏–π (–º–∏–Ω—É—Ç—ã)
LTF_TIMEFRAME=ticks           # –ú–ª–∞–¥—à–∏–π (—Ç–∏–∫–∏)
```

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ—Ç Gate.io WebSocket

**–°—Ç–∞—Ç—É—Å:** –í –æ—Ç–ª–∞–¥–∫–µ

**–°–∏–º–ø—Ç–æ–º—ã:**

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–µ
- –ü–æ–¥–ø–∏—Å–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞
- Ping-pong —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ù–æ —Ç–∏–∫–∏ –∏ orderbook updates –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**

- –í–∫–ª—é—á–∏—Ç—å `LOG_LEVEL=debug` –≤ `.env`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –±–∏—Ä–∂–∏
- –í–æ–∑–º–æ–∂–Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∫–∏

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

**–ê–≤—Ç–æ—Ä:** [–í–∞—à–µ –∏–º—è]  
**–í–µ—Ä—Å–∏—è:** 1.0.1 (Data Layer)  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-22

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

ISC License

---

## üéØ –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞

1. ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Gate.io** (REST + WebSocket)
2. üöß **Real-time –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö** (—Ç–∏–∫–∏, orderbook, —Å–≤–µ—á–∏)
3. ‚è≥ **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è TVP Sniper Strategy** (HTF/MTF/LTF)
4. ‚è≥ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è** —Å risk management
5. ‚è≥ **–ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
6. ‚è≥ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

**–¢–µ–∫—É—â–∏–π —Ñ–æ–∫—É—Å:** –û—Ç–ª–∞–¥–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è real-time –¥–∞–Ω–Ω—ã—Ö –æ—Ç Gate.io WebSocket

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **URGENT:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç Gate.io WebSocket
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å CandleBuilder –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–≤–µ—á–µ–π
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (TickSpeed, OrderBookPressure)
4. –ù–∞—á–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É TVP Strategy (HTF Analyzer)

---

**Happy Trading!** üí∞üìàüöÄ
